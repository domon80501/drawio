<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
  
  
  <script language='JavaScript'>
           /* <![CDATA[ */
           function ProgressBar(info){ 
               var stem = {};// 此函数最后返回的代表进度条的对象。
               var done = 0, length, outline, bar;// 声明内部变量。
                
               bar = document.getElementById('done');// 进度条中绿色的变化部分。
               length = 80; 
                
               // 重置进度到零。
               function reset(){ 
                   return to(0); 
               } 
               // 设置进度到某个值。
               function to(value){ 
                   if (value >= 100) { 
                       done = 100; 
                       bar.setAttribute('width', length); 
                   } 
                   else { 
                       done = value; 
                       bar.setAttribute('width', Math.round(done * length / 100)); 
                   } 
                   return stem; 
               } 
               // 进度变化某个值。
               function advance(step){ 
                   return to(done + step); 
               } 
               // 以下给进度条对象添加方法。
               // 获得当前进度值。
               stem.getDone = function(){ 
                   return done 
               }; 
               stem.reset = reset; 
               stem.to = to; 
               stem.advance = advance; 
               return stem;// 返回可供脚本使用的进度条对象。
           } 
           // 测试进度条对象。
           function testBar(){ 
               var bar = ProgressBar(); 
               // 此内部函数每运行一次，增加进度值 1，直到进度值为 100。
               function test(){ 
                   if (bar.getDone() === 100) { 
                       clearInterval(id); 
                   } 
                   else { 
                       bar.advance(1); 
                   } 
               } 
               // 每十分之一秒改变一次进度。
               var id = setInterval(test, 100); 
           } 
           // 页面载入后开始测试。
           window.addEventListener('load', testBar, true); 
           /* ]]> */
       </script>
  
</svg>
